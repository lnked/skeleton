var app=app||{};!function(e){"use strict";app={_extend:function(e,t){if("undefined"!=typeof t)for(var n in t)e[n]=t[n];return e},bind:function(){for(var e in this)"object"==typeof this[e]&&"undefined"!=typeof this[e].init&&"function"==typeof this[e].init&&this[e].init()},init:function(){this.bind()}}}(document.body);var app=app||{};!function(e){"use strict";var t;app.modal={config:{prefix:"tmpl-modal-",trigger:".j-open-popup"},prepare:function(e){return"undefined"!=typeof e&&e.length>1&&("#"==e.substr(0,1)&&(e=e.substr(1)),e=t.config.input+e),alert(e),e},bind:function(){$("body").on("click",t.config.trigger,function(e){e.preventDefault();var n=$(this).data("target")||$(this).attr("href");return $(t.prepare(n)).length&&alert(t.prepare(n)),!1})},init:function(e){t=this,"undefined"!=typeof e&&(t.config=app._extend(t.config,e)),t.bind()}}}(document.body);var app=app||{};!function(e){"use strict";var t;app.quantity={config:{element:".j-quantity",input:".j-quantity-count",control:".j-quantity-control",complete:null},element:null,setValue:function(e){var t=1,n=100;this.element.data("min")&&(t=this.element.data("min")),this.element.data("max")&&(n=this.element.data("max")),e>n&&(e=n),e<t&&(e=t),this.element.find(this.config.input).val(e)},increase:function(e){e+=1,this.setValue(e)},decrease:function(e){e>1&&(e-=1),this.setValue(e)},callback:function(){"undefined"!=typeof this.element.data("product")&&"function"==typeof this.config.complete&&this.config.complete.call(null,this.element,this.element.data("product"))},keys:function(){var e=this,n="";$("body").on("keydown",t.config.input,function(i){if([38,40].indexOf(i.keyCode)>=0)return i.preventDefault(),n={38:"increase",40:"decrease"},t.element=$(this).closest(t.config.element),e[n[i.keyCode]](parseInt(t.element.find(t.config.input).val())),t.callback(),!1})},bind:function(){var e="";$("body").on("click",t.config.control,function(n){return n.preventDefault(),t.element=$(this).closest(t.config.element),e=$(this).data("role"),["increase","decrease"].indexOf(e)>=0&&_this[e](parseInt(t.element.find(t.config.input).val())),t.callback(),!1})},init:function(e){t=this,"undefined"!=typeof e&&(t.config=app._extend(t.config,e)),t.bind(),t.keys()}}}(document.body),function(e){var t=!1,n=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",i),window.removeEventListener("load",i)):(document.detachEvent("onreadystatechange",i),window.detachEvent("onload",i))},i=function(){t||!document.addEventListener&&"load"!==event.type&&"complete"!==document.readyState||(t=!0,n(),e())};if("complete"===document.readyState)e();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i);else{document.attachEvent("onreadystatechange",i),window.attachEvent("onload",i);var o=!1;try{o=null==window.frameElement&&document.documentElement}catch(a){}o&&o.doScroll&&!function c(){if(!t){try{o.doScroll("left")}catch(i){return setTimeout(c,50)}t=!0,n(),e()}}()}}(function(){app.init()});